- # B站用户记录插件

  一个简单的Chrome插件，用于在B站用户空间页面记录和识别用户信息。

  ## 功能特点

  ✅ **自动检测** - 在 `https://space.bilibili.com/[uid]` 页面自动添加记录按钮
   ✅ **用户识别** - 通过UID识别更改用户名的用户
   ✅ **历史追踪** - 记录用户的历史用户名变化
   ✅ **本地存储** - 所有数据本地存储，保护隐私
   ✅ **美观界面** - 符合B站设计风格的界面

  ## 安装方法

  ### 开发者模式安装

  1. **下载文件**
     - 保存 `manifest.json`
     - 保存 `content.js`
     - 保存 `styles.css`
     - 将三个文件放在同一个文件夹内
  2. **安装到Chrome**
     - 打开Chrome浏览器
     - 访问 `chrome://extensions/`
     - 开启右上角的"开发者模式"
     - 点击"加载已解压的扩展程序"
     - 选择包含插件文件的文件夹
  3. **验证安装**
     - 插件列表中出现"B站用户记录器"
     - 确保插件已启用

  ## 使用方法

  1. **访问用户空间**
     - 打开任意B站用户的空间页面
     - 例如：`https://space.bilibili.com/2`
  2. **记录用户**
     - 页面加载完成后会出现蓝色"记录用户"按钮
     - 点击按钮即可保存用户信息
  3. **识别老用户**
     - 如果用户已被记录过，会弹窗显示历史信息
     - 包括历史用户名、首次记录时间等

  ## 数据存储

  插件会记录以下信息：

  - **UID** - 用户唯一标识（不变）
  - **历史用户名** - 所有使用过的用户名
  - **首次记录时间** - 第一次保存的时间
  - **最后出现时间** - 最近一次操作的时间
  - **粉丝数** - 当前的粉丝数（显示格式如"216.4万"）
  - **精确粉丝数** - 完整的粉丝数字（如"2,163,722"）

  ## 数据管理

  ### 查看所有数据

  在Chrome开发者工具的Console中执行：

  ```javascript
  chrome.storage.local.get(null, (data) => {
      console.log('所有用户数据:', data);
  });
  ```

  ### 清除所有数据

  ```javascript
  chrome.storage.local.clear(() => {
      console.log('数据已清除');
  });
  ```

  ### 导出数据

  ```javascript
  chrome.storage.local.get(null, (data) => {
      const blob = new Blob([JSON.stringify(data, null, 2)], {type: 'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'bilibili_users_backup.json';
      a.click();
  });
  ```

  ## 扩展功能建议

  1. **添加备注功能** - 为用户添加自定义标签和备注
  2. **批量导出** - 支持CSV格式导出用户列表
  3. **搜索功能** - 在记录的用户中搜索
  4. **直播间集成** - 在直播间页面也显示用户历史
  5. **数据统计** - 显示记录用户的统计信息

  ## 注意事项

  ⚠️ **隐私保护** - 所有数据仅存储在本地，不会上传到任何服务器
   ⚠️ **合规使用** - 请遵守B站用户协议，仅用于合法用途
   ⚠️ **数据备份** - 建议定期备份重要数据

  ## 故障排除

  **按钮没有出现？**

  - 确保页面完全加载
  - 检查是否为正确的用户空间URL
  - 刷新页面重试

  **数据丢失？**

  - 检查Chrome存储权限
  - 确保插件未被禁用
  - 查看开发者控制台是否有错误信息

  ## 技术支持

  如有问题请检查：

  - Chrome版本是否支持Manifest V3
  - 插件权限是否正确设置
  - 是否有JavaScript错误（F12查看控制台）